"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[7931],{27931:function(e,o,t){t.r(o),t.d(o,{default:function(){return w}});var n=function(){var e=this,o=e._self._c;return o("div",{class:["login-wrapper",["","login-form-right","login-form-left"][e.direction]]},[o("el-form",{ref:"form",staticClass:"login-form ele-bg-white",attrs:{size:"large",model:e.form,rules:e.rules},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.submit.apply(null,arguments)}}},[o("h4",[e._v(e._s(e.$t("login.title")))]),o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-user",placeholder:e.$t("login.username")},model:{value:e.form.username,callback:function(o){e.$set(e.form,"username",o)},expression:"form.username"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{"show-password":"","prefix-icon":"el-icon-lock",placeholder:e.$t("login.password")},model:{value:e.form.password,callback:function(o){e.$set(e.form,"password",o)},expression:"form.password"}})],1),o("el-form-item",{attrs:{prop:"google_code"}},[o("el-input",{attrs:{"show-password":"","prefix-icon":"el-icon-lock",placeholder:"谷歌验证码,没绑定的不用填"},model:{value:e.form.google_code,callback:function(o){e.$set(e.form,"google_code",o)},expression:"form.google_code"}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("div",{staticClass:"login-input-group"},[o("el-input",{attrs:{clearable:"","prefix-icon":"el-icon-_vercode",placeholder:e.$t("login.code")},model:{value:e.form.code,callback:function(o){e.$set(e.form,"code",o)},expression:"form.code"}}),e.captcha?o("img",{staticClass:"login-captcha",attrs:{alt:"",src:e.captcha},on:{click:e.changeCaptcha}}):e._e()],1)]),o("div",{staticClass:"el-form-item"},[o("el-button",{staticClass:"login-btn",attrs:{size:"large",type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(" "+e._s(e.loading?e.$t("login.loading"):e.$t("login.login"))+" ")])],1)],1),o("div",{staticClass:"login-copyright"},[e._v(" copyright © 2024 all rights reserved. ")]),o("div",{staticStyle:{position:"absolute",right:"30px",top:"20px"}},[o("i18n-icon",{attrs:{"icon-style":{fontSize:"22px",color:"#fff",cursor:"pointer"}}})],1)],1)},r=[],a=function(){var e=this,o=e._self._c;return o("el-dropdown",{attrs:{placement:e.placement},on:{command:e.changeLanguage},scopedSlots:e._u([{key:"dropdown",fn:function(){return[o("el-dropdown-menu",[o("el-dropdown-item",{attrs:{command:"en"}},[o("span",{class:{"ele-text-primary":"en"===e.language}},[e._v(" English ")])]),o("el-dropdown-item",{attrs:{command:"zh_CN"}},[o("span",{class:{"ele-text-primary":"zh_CN"===e.language}},[e._v(" 简体中文 ")])]),o("el-dropdown-item",{attrs:{command:"zh_TW"}},[o("span",{class:{"ele-text-primary":"zh_TW"===e.language}},[e._v(" 繁體中文 ")])])],1)]},proxy:!0}])},[o("i",{staticClass:"el-icon-_language",style:e.iconStyle})])},l=[],i=t(18816),s={props:{placement:{type:String,default:"bottom"},iconStyle:Object},computed:{language:function(){return this.$i18n.locale}},methods:{changeLanguage:function(e){this.$i18n.locale=e,localStorage.setItem(i.qA,e)}}},c=s,u=t(1001),m=(0,u.Z)(c,a,l,!1,null,null,null),p=m.exports,g=t(73566),d=t(7877);t(74916),t(15306),t(41539),t(39714);function f(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(o){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==o?t:3&t|8).toString(16)}));return o}var h={name:"Login",components:{I18nIcon:p},data:function(){return{direction:0,loading:!1,form:{username:"",password:"",google_code:"",remember:!0,code:"",key:f()},text:"",d:(new Date).getTime()}},computed:{captcha:function(){return"http://api.henghaochi.com/api/captcha/"+this.form.key+"?k="+this.d},rules:function(){return{username:[{required:!0,message:this.$t("login.username"),type:"string",trigger:"blur"}],password:[{required:!0,message:this.$t("login.password"),type:"string",trigger:"blur"}],google_code:[{}]}}},created:function(){(0,g.LP)()?this.goHome():this.changeCaptcha()},methods:{submit:function(){var e=this;this.$refs.form.validate((function(o){if(!o)return!1;e.loading=!0,(0,d.XR)(e.form).then((function(o){(0,g.o4)(o.userinfo.token,e.form.remember),e.loading=!1,e.$message.success("登陆成功"),e.goHome()})).catch((function(o){console.log("错误"),console.log(o),e.loading=!1,e.changeCaptcha(),e.$message.error(o.message)}))}))},goHome:function(){var e,o,t;this.$router.push(null!==(e=null===(o=this.$route)||void 0===o||null===(t=o.query)||void 0===t?void 0:t.from)&&void 0!==e?e:"/").catch((function(e){console.log("登录后跳转页面错误"),console.log(e)}))},changeCaptcha:function(){this.d=(new Date).getTime()}}},x=h,v=(0,u.Z)(x,n,r,!1,null,"406399c4",null),w=v.exports}}]);