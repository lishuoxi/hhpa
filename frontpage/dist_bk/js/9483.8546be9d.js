"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[9483],{29483:function(e,o,t){t.r(o),t.d(o,{default:function(){return f}});var l=function(){var e=this,o=e._self._c;return o("ele-modal",{attrs:{width:"420px",title:"绑定谷歌",visible:e.visible,"append-to-body":!0,"close-on-click-modal":!0},on:{"update:visible":e.updateVisible,closed:e.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[o("el-button",{on:{click:function(o){return e.updateVisible(!1)}}},[e._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("绑定")])]},proxy:!0}])},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"82px"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.save.apply(null,arguments)}}},[o("el-form-item",{attrs:{label:"绑定谷歌"}},[o("ele-qr-code-svg",{attrs:{value:e.form.google_code_url,size:120}})],1),o("el-form-item",{attrs:{label:"谷歌码:",prop:"google_code"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.google_code,callback:function(o){e.$set(e.form,"google_code",o)},expression:"form.google_code"}})],1),o("el-form-item",{attrs:{label:"验证码:",prop:"verify_code"}},[o("el-input",{attrs:{"show-password":"",placeholder:"请输入验证码"},model:{value:e.form.verify_code,callback:function(o){e.$set(e.form,"verify_code",o)},expression:"form.verify_code"}})],1)],1)],1)},r=[],s=t(7877),i=t(16158),a=t(45623),n={props:{visible:Boolean},components:{EleQrCodeSvg:i.Z},data(){return{loading:!1,form:{google_code:"",google_code_url:"",verify_code:""},rules:{verify_code:[{required:!0,message:"请输入谷歌验证码",trigger:"blur"}]}}},created(){},watch:{visible(e,o){console.log(o),e&&(this.loading=!0,(0,s.h8)(this.form).then((e=>{this.loading=!1,Object.assign(this.form,e,{})})).catch((e=>{this.loading=!1,this.$message.error(e.message)})))}},methods:{updateVisible(e){this.$emit("update:visible",e)},save(){this.$refs.form.validate((e=>{if(!e)return!1;this.loading=!0,(0,s.q4)(this.form).then((()=>{this.loading=!1,this.$message.success("绑定成功"),(0,a.kS)()})).catch((e=>{this.loading=!1,this.$message.error(e.message)}))}))},onClose(){this.form={google_code:"",google_code_url:"",verify_code:""},this.$refs.form.resetFields(),this.loading=!1}}},d=n,c=t(1001),u=(0,c.Z)(d,l,r,!1,null,null,null),f=u.exports}}]);