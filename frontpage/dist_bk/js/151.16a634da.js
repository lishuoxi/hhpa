"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[151,90],{10151:function(e,t,i){i.r(t),i.d(t,{default:function(){return Xn}});var n=function(){var e=this,t=e._self._c;return t("el-card",{attrs:{shadow:"never",header:"用户分布"}},[t("el-row",[t("el-col",e._b({},"el-col",e.styleResponsive?{sm:18}:{span:18},!1),[t("v-chart",{ref:"userCountMapChart",staticStyle:{height:"444px"},attrs:{option:e.userCountMapOption}})],1),t("el-col",e._b({},"el-col",e.styleResponsive?{sm:6}:{span:6},!1),[t("div",{staticStyle:{padding:"10px 5px 0 0"}},e._l(e.userCountDataRank,(function(i,n){return t("div",{key:n,staticClass:"monitor-user-count-item ele-cell"},[t("div",[e._v(e._s(i.name))]),t("div",{staticClass:"ele-cell-content"},[t("el-progress",{attrs:{"stroke-width":10,"show-text":!1,percentage:i.percent}})],1),t("div",[e._v(e._s(i.value))])])})),0)])],1)],1)},o=[],r=i(68023),a=i(91416),s=i(70655),l=i(69538),u=i(33051),p=i(23510),c=i(61158),h=i(2352),g="\0_ec_interaction_mutex";function d(e,t){return!!f(e)[t]}function f(e){return e[g]||(e[g]={})}h.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},u.ZT);var v=function(e){function t(t){var i=e.call(this)||this;i._zr=t;var n=(0,u.ak)(i._mousedownHandler,i),o=(0,u.ak)(i._mousemoveHandler,i),r=(0,u.ak)(i._mouseupHandler,i),a=(0,u.ak)(i._mousewheelHandler,i),s=(0,u.ak)(i._pinchHandler,i);return i.enable=function(e,i){this.disable(),this._opt=(0,u.ce)((0,u.d9)(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",o),t.on("mouseup",r)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",s))},i.disable=function(){t.off("mousedown",n),t.off("mousemove",o),t.off("mouseup",r),t.off("mousewheel",a),t.off("pinch",s)},i}return(0,s.ZT)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(c.x1(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&_("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!d(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,r=t-n,a=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&c.sT(e.event),y(this,"pan","moveOnMouseMove",e,{dx:r,dy:a,oldX:n,oldY:o,newX:t,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){c.x1(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=_("zoomOnMouseWheel",e,this._opt),i=_("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),r=e.offsetX,a=e.offsetY;if(0!==n&&(t||i)){if(t){var s=o>3?1.4:o>1?1.2:1.1,l=n>0?s:1/s;m(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:r,originY:a,isAvailableBehavior:null})}if(i){var u=Math.abs(n),p=(n>0?1:-1)*(u>3?.4:u>1?.15:.05);m(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:p,originX:r,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!d(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;m(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(p.Z);function m(e,t,i,n,o){e.pointerChecker&&e.pointerChecker(n,o.originX,o.originY)&&(c.sT(n.event),y(e,t,i,n,o))}function y(e,t,i,n,o){o.isAvailableBehavior=(0,u.ak)(_,null,i,n),e.trigger(t,o)}function _(e,t,i){var n=i[e];return!e||n&&(!(0,u.HD)(n)||t.event[n+"Key"])}var S=v;function x(e,t,i){var n=e.target;n.x+=t,n.y+=i,n.dirty()}function M(e,t,i,n){var o=e.target,r=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,r){var s=r.min||0,l=r.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/e.zoom;e.zoom=a,o.x-=(i-o.x)*(u-1),o.y-=(n-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}var w={axisPointer:1,tooltip:1,brush:1};function b(e,t,i){var n=t.getComponentByElement(e.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!w.hasOwnProperty(n.mainType)&&o&&o.model!==i}var T,C=i(38154),I=i(29266),D=i(95094),R=i(62514),V=i(52776),k=i(38982),L=i(26357),O=i(44535),A=i(25293),G=i(92797),P=i(22095),z=i(32892),F=i(80073),Z=i(74438),N=i(36369),H=i(71505);function B(e){if((0,u.HD)(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var i=e;9===i.nodeType&&(i=i.firstChild);while("svg"!==i.nodeName.toLowerCase()||1!==i.nodeType)i=i.nextSibling;return i}var E={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},U=(0,u.XP)(E),X={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Y=(0,u.XP)(X),W=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var i=B(e);this._defsUsePending=[];var n=new C.Z;this._root=n;var o=[],r=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||t.width),s=parseFloat(i.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Q(i,n,null,!0,!1);var l,u,p=i.firstChild;while(p)this._parseNode(p,n,o,null,!1,!1),p=p.nextSibling;if(ne(this._defs,this._defsUsePending),this._defsUsePending=[],r){var c=re(r);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&null!=a&&null!=s&&(u=he(l,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var h=n;n=new C.Z,n.add(h),h.scaleX=h.scaleY=u.scale,h.x=u.x,h.y=u.y}return t.ignoreRootClip||null==a||null==s||n.setClipPath(new A.Z({shape:{x:0,y:0,width:a,height:s}})),{root:n,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:o}},e.prototype._parseNode=function(e,t,i,n,o,r){var a,s=e.nodeName.toLowerCase(),l=n;if("defs"===s&&(o=!0),"text"===s&&(r=!0),"defs"===s||"switch"===s)a=t;else{if(!o){var p=T[s];if(p&&(0,u.RI)(T,s)){a=p.call(this,e,t);var c=e.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:a};i.push(h),"g"===s&&(l=h)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:s,el:a});t.add(a)}}var g=J[s];if(g&&(0,u.RI)(J,s)){var d=g.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=d)}}if(a&&a.isGroup){var v=e.firstChild;while(v)1===v.nodeType?this._parseNode(v,a,i,l,o,r):3===v.nodeType&&r&&this._parseText(v,a),v=v.nextSibling}},e.prototype._parseText=function(e,t){var i=new H.Z({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});q(t,i),Q(e,i,this._defsUsePending,!1,!1),ee(i,t);var n=i.style,o=n.fontSize;o&&o<9&&(n.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var r=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=r;var a=i.getBoundingRect();return this._textX+=a.width,t.add(i),i},e.internalField=function(){T={g:function(e,t){var i=new C.Z;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new A.Z;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new l.Z;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new P.Z;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new G.Z;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,n=e.getAttribute("points");n&&(i=$(n));var o=new D.Z({shape:{points:i||[]},silent:!0});return q(t,o),Q(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i,n=e.getAttribute("points");n&&(i=$(n));var o=new R.Z({shape:{points:i||[]},silent:!0});return q(t,o),Q(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new O.ZP;return q(t,i),Q(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",n=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(r);var a=new C.Z;return q(t,a),Q(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var i=e.getAttribute("x"),n=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0",a=new C.Z;return q(t,a),Q(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(r),a},path:function(e,t){var i=e.getAttribute("d")||"",n=(0,F.iR)(i);return q(t,n),Q(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),e}(),J={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),i=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),o=parseInt(e.getAttribute("y2")||"0",10),r=new Z.Z(t,i,n,o);return j(e,r),K(e,r),r},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),i=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),o=new N.Z(t,i,n);return j(e,o),K(e,o),o}};function j(e,t){var i=e.getAttribute("gradientUnits");"userSpaceOnUse"===i&&(t.global=!0)}function K(e,t){var i=e.firstChild;while(i){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var n=i.getAttribute("offset"),o=void 0;o=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var r={};pe(i,r,r);var a=r.stopColor||i.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:a})}i=i.nextSibling}}function q(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,u.ce)(t.__inheritedStyle,e.__inheritedStyle))}function $(e){for(var t=re(e),i=[],n=0;n<t.length;n+=2){var o=parseFloat(t[n]),r=parseFloat(t[n+1]);i.push([o,r])}return i}function Q(e,t,i,n,o){var r=t,a=r.__inheritedStyle=r.__inheritedStyle||{},s={};1===e.nodeType&&(le(e,t),pe(e,a,s),n||ce(e,a,s)),r.style=r.style||{},null!=a.fill&&(r.style.fill=ie(r,"fill",a.fill,i)),null!=a.stroke&&(r.style.stroke=ie(r,"stroke",a.stroke,i)),(0,u.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(r.style[e]=parseFloat(a[e]))})),(0,u.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(r.style[e]=a[e])})),o&&(r.__selfStyle=s),a.lineDash&&(r.style.lineDash=(0,u.UI)(re(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(r.invisible=!0),"none"===a.display&&(r.ignore=!0)}function ee(e,t){var i=t.__selfStyle;if(i){var n=i.textBaseline,o=n;n&&"auto"!==n?"baseline"===n?o="alphabetic":"before-edge"===n||"text-before-edge"===n?o="top":"after-edge"===n||"text-after-edge"===n?o="bottom":"central"!==n&&"mathematical"!==n||(o="middle"):o="alphabetic",e.style.textBaseline=o}var r=t.__inheritedStyle;if(r){var a=r.textAlign,s=a;a&&("middle"===a&&(s="center"),e.style.textAlign=s)}}var te=/^url\(\s*#(.*?)\)/;function ie(e,t,i,n){var o=i&&i.match(te);if(!o)return"none"===i&&(i=null),i;var r=(0,u.fy)(o[1]);n.push([e,t,r])}function ne(e,t){for(var i=0;i<t.length;i++){var n=t[i];n[0].style[n[1]]=e[n[2]]}}var oe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function re(e){return e.match(oe)||[]}var ae=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,se=Math.PI/180;function le(e,t){var i=e.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[],o=null;i.replace(ae,(function(e,t,i){return n.push(t,i),""}));for(var r=n.length-1;r>0;r-=2){var a=n[r],s=n[r-1],l=re(a);switch(o=o||z.Ue(),s){case"translate":z.Iu(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":z.bA(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":z.U1(o,o,-parseFloat(l[0])*se);break;case"skewX":var u=Math.tan(parseFloat(l[0])*se);z.dC(o,[1,0,u,1,0,0],o);break;case"skewY":var p=Math.tan(parseFloat(l[0])*se);z.dC(o,[1,p,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}t.setLocalTransform(o)}}var ue=/([^\s:;]+)\s*:\s*([^:;]+)/g;function pe(e,t,i){var n=e.getAttribute("style");if(n){var o;ue.lastIndex=0;while(null!=(o=ue.exec(n))){var r=o[1],a=(0,u.RI)(E,r)?E[r]:null;a&&(t[a]=o[2]);var s=(0,u.RI)(X,r)?X[r]:null;s&&(i[s]=o[2])}}}function ce(e,t,i){for(var n=0;n<U.length;n++){var o=U[n],r=e.getAttribute(o);null!=r&&(t[E[o]]=r)}for(n=0;n<Y.length;n++){o=Y[n],r=e.getAttribute(o);null!=r&&(i[X[o]]=r)}}function he(e,t){var i=t.width/e.width,n=t.height/e.height,o=Math.min(i,n);return{scale:o,x:-(e.x+e.width/2)*o+(t.x+t.width/2),y:-(e.y+e.height/2)*o+(t.y+t.height/2)}}function ge(e,t){var i=new W;return i.parse(e,t)}var de=i(60479),fe=i(45280),ve=i(47637),me=1e-8;function ye(e,t){return Math.abs(e-t)<me}function _e(e,t,i){var n=0,o=e[0];if(!o)return!1;for(var r=1;r<e.length;r++){var a=e[r];n+=(0,ve.Z)(o[0],o[1],a[0],a[1],t,i),o=a}var s=e[0];return ye(o[0],s[0])&&ye(o[1],s[1])||(n+=(0,ve.Z)(o[0],o[1],s[0],s[1],t,i)),0!==n}var Se=[];function xe(e,t){for(var i=0;i<e.length;i++)fe.Ne(e[i],e[i],t)}function Me(e,t,i,n){for(var o=0;o<e.length;o++){var r=e[o];n&&(r=n.project(r)),r&&isFinite(r[0])&&isFinite(r[1])&&(fe.VV(t,t,r),fe.Fp(i,i,r))}}function we(e){for(var t=0,i=0,n=0,o=e.length,r=e[o-1][0],a=e[o-1][1],s=0;s<o;s++){var l=e[s][0],u=e[s][1],p=r*u-l*a;t+=p,i+=(r+l)*p,n+=(a+u)*p,r=l,a=u}return t?[i/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var be=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Te=function(){function e(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return e}(),Ce=function(){function e(e){this.type="linestring",this.points=e}return e}(),Ie=function(e){function t(t,i,n){var o=e.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=n&&[n[0],n[1]],o}return(0,s.ZT)(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,i=0,n=0;n<t.length;n++){var o=t[n],r=o.exterior,a=r&&r.length;a>i&&(e=o,i=a)}if(e)return we(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var i=[1/0,1/0],n=[-1/0,-1/0],o=this.geometries;return(0,u.S6)(o,(function(t){"polygon"===t.type?Me(t.exterior,i,n,e):(0,u.S6)(t.points,(function(t){Me(t,i,n,e)}))})),isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])||(i[0]=i[1]=n[0]=n[1]=0),t=new de.Z(i[0],i[1],n[0]-i[0],n[1]-i[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),i=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var n=0,o=i.length;n<o;n++){var r=i[n];if("polygon"===r.type){var a=r.exterior,s=r.interiors;if(_e(a,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(_e(s[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,i,n){var o=this.getBoundingRect(),r=o.width/o.height;i?n||(n=i/r):i=r*n;for(var a=new de.Z(e,t,i,n),s=o.calculateTransform(a),l=this.geometries,p=0;p<l.length;p++){var c=l[p];"polygon"===c.type?(xe(c.exterior,s),(0,u.S6)(c.interiors,(function(e){xe(e,s)}))):(0,u.S6)(c.points,(function(e){xe(e,s)}))}o=this._rect,o.copy(a),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t}(be),De=function(e){function t(t,i){var n=e.call(this,t)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return(0,s.ZT)(t,e),t.prototype.calcCenter=function(){var e=this._elOnlyForCalculate,t=e.getBoundingRect(),i=[t.x+t.width/2,t.y+t.height/2],n=z.yR(Se),o=e;while(o&&!o.isGeoSVGGraphicRoot)z.dC(n,o.getLocalTransform(),n),o=o.parent;return z.U_(n,n),fe.Ne(i,i,n),i},t}(be),Re=(0,u.kW)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Ve=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,u.kW)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=B(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Le(e.named),i=t.regions,n=t.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,i;try{t=e&&ge(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=t.root,(0,u.hu)(null!=i)}catch(v){throw new Error("Invalid svg format\n"+v.message)}var n=new C.Z;n.add(i),n.isGeoSVGGraphicRoot=!0;var o=t.width,r=t.height,a=t.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,p=void 0,c=void 0,h=void 0;if(null!=o?(l=0,c=o):a&&(l=a.x,c=a.width),null!=r?(p=0,h=r):a&&(p=a.y,h=a.height),null==l||null==p){var g=i.getBoundingRect();null==l&&(l=g.x,c=g.width),null==p&&(p=g.y,h=g.height)}s=this._boundingRect=new de.Z(l,p,c,h)}if(a){var d=he(a,s);i.scaleX=i.scaleY=d.scale,i.x=d.x,i.y=d.y}n.setClipPath(new A.Z({shape:s.plain()}));var f=[];return(0,u.S6)(t.named,(function(e){null!=Re.get(e.svgNodeTagLower)&&(f.push(e),ke(e.el))})),{root:n,boundingRect:s,named:f}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},e}();function ke(e){e.silent=!1,e.isGroup&&e.traverse((function(e){e.silent=!1}))}function Le(e){var t=[],i=(0,u.kW)();return(0,u.S6)(e,(function(e){if(null==e.namedFrom){var n=new De(e.name,e.el);t.push(n),i.set(e.name,n)}})),{regions:t,regionsMap:i}}function Oe(e){if(!e.UTF8Encoding)return e;var t=e,i=t.UTF8Scale;null==i&&(i=1024);var n=t.features;return u.S6(n,(function(e){var t=e.geometry,n=t.encodeOffsets,o=t.coordinates;if(n)switch(t.type){case"LineString":t.coordinates=Ge(o,n,i);break;case"Polygon":Ae(o,n,i);break;case"MultiLineString":Ae(o,n,i);break;case"MultiPolygon":u.S6(o,(function(e,t){return Ae(e,n[t],i)}))}})),t.UTF8Encoding=!1,t}function Ae(e,t,i){for(var n=0;n<e.length;n++)e[n]=Ge(e[n],t[n],i)}function Ge(e,t,i){for(var n=[],o=t[0],r=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=r,o=s,r=l,n.push([s/i,l/i])}return n}function Pe(e,t){return e=Oe(e),u.UI(u.hX(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var i=e.properties,n=e.geometry,o=[];switch(n.type){case"Polygon":var r=n.coordinates;o.push(new Te(r[0],r.slice(1)));break;case"MultiPolygon":u.S6(n.coordinates,(function(e){e[0]&&o.push(new Te(e[0],e.slice(1)))}));break;case"LineString":o.push(new Ce([n.coordinates]));break;case"MultiLineString":o.push(new Ce(n.coordinates))}var a=new Ie(i[t||"name"],o,i.cp);return a.properties=i,a}))}for(var ze=[126,25],Fe="南海诸岛",Ze=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Ne=0;Ne<Ze.length;Ne++)for(var He=0;He<Ze[Ne].length;He++)Ze[Ne][He][0]/=10.5,Ze[Ne][He][1]/=-14,Ze[Ne][He][0]+=ze[0],Ze[Ne][He][1]+=ze[1];function Be(e,t){if("china"===e){for(var i=0;i<t.length;i++)if(t[i].name===Fe)return;t.push(new Ie(Fe,u.UI(Ze,(function(e){return{type:"polygon",exterior:e}})),ze))}}var Ee={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Ue(e,t){if("china"===e){var i=Ee[t.name];if(i){var n=t.getCenter();n[0]+=i[0]/10.5,n[1]+=-i[1]/14,t.setCenter(n)}}}var Xe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Ye(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:Xe[0]})}var We="name",Je=function(){function e(e,t,i){this.type="geoJSON",this._parsedMap=(0,u.kW)(),this._mapName=e,this._specialAreas=i,this._geoJSON=Ke(t)}return e.prototype.load=function(e,t){t=t||We;var i=this._parsedMap.get(t);if(!i){var n=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:n,boundingRect:je(n)})}var o=(0,u.kW)(),r=[];return(0,u.S6)(i.regions,(function(t){var i=t.name;e&&(0,u.RI)(e,i)&&(t=t.cloneShallow(i=e[i])),r.push(t),o.set(i,t)})),{regions:r,boundingRect:i.boundingRect||new de.Z(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(e){var t,i=this._mapName,n=this._geoJSON;try{t=n?Pe(n,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return Be(i,t),(0,u.S6)(t,(function(e){var t=e.name;Ue(i,e),Ye(i,e);var n=this._specialAreas&&this._specialAreas[t];n&&e.transformTo(n.left,n.top,n.width,n.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function je(e){for(var t,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function Ke(e){return(0,u.HD)(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var qe=(0,u.kW)(),$e={registerMap:function(e,t,i){if(t.svg){var n=new Ve(e,t.svg);qe.set(e,n)}else{var o=t.geoJson||t.geoJSON;o&&!t.features?i=t.specialAreas:o=t;n=new Je(e,o,i);qe.set(e,n)}},getGeoResource:function(e){return qe.get(e)},getMapForUser:function(e){var t=qe.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,i){var n=qe.get(e);if(n)return n.load(t,i)}},Qe=i(42151),et=i(36006),tt=i(30106),it=i(630),nt=i(7719),ot=i(32234),rt=["rect","circle","line","ellipse","polygon","polyline","path"],at=u.kW(rt),st=u.kW(rt.concat(["g"])),lt=u.kW(rt.concat(["g"])),ut=(0,ot.Yf)();function pt(e){var t=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(t.fill=i),t}function ct(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var ht=function(){function e(e){var t=new C.Z;this.uid=(0,Qe.Kr)("ec_map_draw"),this._controller=new S(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new C.Z),t.add(this._svgGroup=new C.Z)}return e.prototype.draw=function(e,t,i,n,o){var r="geo"===e.mainType,a=e.getData&&e.getData();r&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,u=this.group,p=s.getTransformInfo(),c=p.raw,h=p.roam,g=!l.childAt(0)||o;g?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):I.D(u,h,e);var d=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,f={api:i,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:d,isGeo:r,transformInfoRaw:c};"geoJSON"===s.resourceType?this._buildGeoJSON(f):"geoSVG"===s.resourceType&&this._buildSVG(f),this._updateController(e,t,i),this._updateMapSelectHandler(e,l,i,n)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=u.kW(),i=u.kW(),n=this._regionsGroup,o=e.transformInfoRaw,r=e.mapOrGeoModel,a=e.data,s=e.geo.projection,l=s&&s.stream;function p(e,t){return t&&(e=t(e)),e&&[e[0]*o.scaleX+o.x,e[1]*o.scaleY+o.y]}function c(e){for(var t=[],i=!l&&s&&s.project,n=0;n<e.length;++n){var o=p(e[n],i);o&&t.push(o)}return t}function h(e){return{shape:{points:c(e)}}}n.removeAll(),u.S6(e.geo.regions,(function(o){var c=o.name,g=t.get(c),d=i.get(c)||{},f=d.dataIdx,v=d.regionModel;g||(g=t.set(c,new C.Z),n.add(g),f=a?a.indexOfName(c):null,v=e.isGeo?r.getRegionModel(c):a?a.getItemModel(f):null,i.set(c,{dataIdx:f,regionModel:v}));var m=[],y=[];u.S6(o.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=yt(t,l)),u.S6(t,(function(e){m.push(new D.Z(h(e)))}))}else{var i=e.points;l&&(i=yt(i,l,!0)),u.S6(i,(function(e){y.push(new R.Z(h(e)))}))}}));var _=p(o.getCenter(),s&&s.project);function S(t,i){if(t.length){var n=new V.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});g.add(n),gt(e,n,f,v),dt(e,n,c,v,r,f,_),i&&(ct(n),u.S6(n.states,ct))}}S(m),S(y,!0)})),t.each((function(t,n){var o=i.get(n),a=o.dataIdx,s=o.regionModel;ft(e,t,n,s,r,a),vt(e,t,n,s,r),mt(e,t,n,s,r)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var n=this._svgDispatcherMap=u.kW(),o=!1;u.S6(this._svgGraphicRecord.named,(function(t){var i=t.name,r=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,u=a?a.indexOfName(i):null,p=r.getRegionModel(i);if(null!=at.get(s)&&l instanceof nt.ZP&&gt(e,l,u,p),l instanceof nt.ZP&&(l.culling=!0),l.z2EmphasisLift=0,!t.namedFrom&&(null!=lt.get(s)&&dt(e,l,i,p,r,u,null),ft(e,l,i,p,r,u),vt(e,l,i,p,r),null!=st.get(s))){var c=mt(e,l,i,p,r);"self"===c&&(o=!0);var h=n.get(i)||n.set(i,[]);h.push(l)}}),this),this._enableBlurEntireSVG(o,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),n=i.opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,L.MA)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var n=this._regionsGroupByName;if(n){var o=n.get(e);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=$e.getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=$e.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,i){var n=e.coordinateSystem,o=this._controller,r=this._controllerHost;r.zoomLimit=e.get("scaleLimit"),r.zoom=n.getZoom(),o.enable(e.get("roam")||!1);var a=e.mainType;function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}o.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,x(r,e.dx,e.dy),i.dispatchAction(u.l7(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,M(r,e.scale,e.originX,e.originY),i.dispatchAction(u.l7(s(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(t,o,r){return n.containPoint([o,r])&&!b(t,i,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=ut(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,i,n){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){o._mouseDownFlag=!0})),t.on("click",(function(e){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},e}();function gt(e,t,i,n){var o=n.getModel("itemStyle"),r=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=pt(o),u=pt(r),p=pt(s),c=pt(a),h=e.data;if(h){var g=h.getItemVisual(i,"style"),d=h.getItemVisual(i,"decal");e.isVisualEncodedByVisualMap&&g.fill&&(l.fill=g.fill),d&&(l.decal=(0,it.I)(d,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=p,t.ensureState("blur").style=c,(0,L.MA)(t)}function dt(e,t,i,n,o,r,a){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),r)),p=s&&s.getItemLayout(r);if(l||u||p&&p.showLabel){var c=l?i:r,h=void 0;(!s||r>=0)&&(h=o);var g=a?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,et.ni)(t,(0,et.k3)(n),{labelFetcher:h,labelDataIndex:c,defaultText:i},g);var d=t.getTextContent();if(d&&(ut(d).ignore=d.ignore,t.textConfig&&a)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(a[0]-f.x)/f.width*100+"%",(a[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function ft(e,t,i,n,o,r){e.data?e.data.setItemGraphicEl(r,t):(0,tt.A)(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:i,region:n&&n.option||{}}}function vt(e,t,i,n,o){e.data||k.setTooltipConfig({el:t,componentModel:o,itemName:i,itemTooltipOption:n.get("tooltip")})}function mt(e,t,i,n,o){t.highDownSilentOnTouch=!!o.get("selectedMode");var r=n.getModel("emphasis"),a=r.get("focus");return(0,L.k5)(t,a,r.get("blurScope"),r.get("disabled")),e.isGeo&&(0,L.th)(t,o,i),a}function yt(e,t,i){var n,o=[];function r(){n=[]}function a(){n.length&&(o.push(n),n=[])}var s=t({polygonStart:r,polygonEnd:a,lineStart:r,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&n.push([e,t])},sphere:function(){}});return!i&&s.polygonStart(),u.S6(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!i&&s.polygonEnd(),o}var _t=ht,St=i(75797),xt=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,s.ZT)(t,e),t.prototype.render=function(e,t,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id){r=this._mapDraw;r&&o.add(r.group)}else if(e.needsDrawMap){var r=this._mapDraw||new _t(i);o.add(r.group),r.draw(e,t,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,i){var n=e.originalData,o=this.group;n.each(n.mapDimension("value"),(function(t,i){if(!isNaN(t)){var r=n.getItemLayout(i);if(r&&r.point){var a=r.point,s=r.offset,u=new l.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:L.zr+1)});if(!s){var p=e.mainSeries.getData(),c=n.getName(i),h=p.indexOfName(c),g=n.getItemModel(i),d=g.getModel("label"),f=p.getItemGraphicEl(h);(0,et.ni)(u,(0,et.k3)(g),{labelFetcher:{getFormattedLabel:function(t,i){return e.getFormattedLabel(h,i)}},defaultText:c}),u.disableLabelAnimation=!0,d.get("position")||u.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){(0,L.Gl)(u,e)}}o.add(u)}}}))},t.type="map",t}(St.Z),Mt=xt,wt=i(30090),bt=i(74717),Tt=i(61772),Ct=i(5685),It=i(41525),Dt=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),i=this.coordinateSystem,n=i.getRegion(t);return n&&i.dataToPoint(n.getCenter())}},i}return(0,s.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=(0,wt.Z)(this,{coordDimensions:["value"],encodeDefaulter:u.WA(Tt.Ss,this)}),i=u.kW(),n=[],o=0,r=t.count();o<r;o++){var a=t.getName(o);i.set(a,!0)}var s=$e.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return u.S6(s.regions,(function(e){var t=e.name;i.get(t)||n.push(t)})),t.appendValues([],n),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,i){for(var n=this.getData(),o=this.getRawValue(e),r=n.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(r),p=n.mapDimension("value");isNaN(a[l].originalData.get(p,u))||s.push(a[l].name)}return(0,Ct.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Ct.TX)("nameValue",{name:r,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",i=(0,It.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",t.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(bt.Z),Rt=Dt;function Vt(e,t){var i={};return u.S6(e,(function(e){e.each(e.mapDimension("value"),(function(t,n){var o="ec-"+e.getName(n);i[o]=i[o]||[],isNaN(t)||i[o].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(n,o){for(var r,a="ec-"+e[0].getName(o),s=0,l=1/0,u=-1/0,p=i[a].length,c=0;c<p;c++)l=Math.min(l,i[a][c]),u=Math.max(u,i[a][c]),s+=i[a][c];return r="min"===t?l:"max"===t?u:"average"===t?s/p:s,0===p?NaN:r}))}function kt(e){var t={};e.eachSeriesByType("map",(function(e){var i=e.getHostGeoModel(),n=i?"o"+i.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),u.S6(t,(function(e,t){for(var i=Vt(u.UI(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),n=0;n<e.length;n++)e[n].originalData=e[n].getData();for(n=0;n<e.length;n++)e[n].seriesGroup=e,e[n].needsDrawMap=0===n&&!e[n].getHostGeoModel(),e[n].setData(i.cloneShallow()),e[n].mainSeries=e[0]}))}function Lt(e){var t={};e.eachSeriesByType("map",(function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!t[n]){var o={};u.S6(i.seriesGroup,(function(t){var i=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var r=n.getName(t),a=i.getRegion(r);if(a&&!isNaN(e)){var s=o[r]||0,l=i.dataToPoint(a.getCenter());o[r]=s+1,n.setItemLayout(t,{point:l,offset:s})}}))}));var r=i.getData();r.each((function(e){var t=r.getName(e),i=r.getItemLayout(e)||{};i.showLabel=!o[t],r.setItemLayout(e,i)})),t[n]=!0}}))}var Ot=i(31891),At=i(98071),Gt=i(12312),Pt=i(87411),zt=i(85669),Ft=fe.Ne,Zt=function(e){function t(t){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Pt.ZP,i._rawTransformable=new Pt.ZP,i.name=t,i}return(0,s.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,i,n){return this._rect=new de.Z(e,t,i,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,i,n){this._transformTo(e,t,i,n),this._viewRect=new de.Z(e,t,i,n)},t.prototype._transformTo=function(e,t,i,n){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new de.Z(e,t,i,n));var a=r.parent;r.parent=null,r.decomposeTransform(),r.parent=a,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[(0,zt.GM)(e[0],t.getWidth()),(0,zt.GM)(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),t=e.x+e.width/2,i=e.y+e.height/2;return[t,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=fe.Ne([],n,e),i=fe.Ne([],i,e),t.originX=n[0],t.originY=n[1],t.x=i[0]-n[0],t.y=i[1]-n[1],t.scaleX=t.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),z.JG(this.transform||(this.transform=[]),t.transform||z.Ue()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],z.U_(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,i=new Pt.ZP;return i.transform=t.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,i){var n=t?this._rawTransform:this.transform;return i=i||[],n?Ft(i,e,n):fe.JG(i,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?Ft([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,i){var n=Nt(t);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var n=Nt(t);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Pt.ZP);function Nt(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var Ht=Zt,Bt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Et=["lng","lat"],Ut=function(e){function t(t,i,n){var o=e.call(this,t)||this;o.dimensions=Et,o.type="geo",o._nameCoordMap=u.kW(),o.map=i;var r,a=n.projection,s=$e.load(i,n.nameMap,n.nameProperty),l=$e.getGeoResource(i),p=(o.resourceType=l?l.type:null,o.regions=s.regions),c=Bt[l.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a,a)for(var h=0;h<p.length;h++){var g=p[h].getBoundingRect(a);r=r||g.clone(),r.union(g)}else r=s.boundingRect;return o.setBoundingRect(r.x,r.y,r.width,r.height),o.aspectScale=a?1:u.pD(n.aspectScale,c.aspectScale),o._invertLongitute=!a&&c.invertLongitute,o}return(0,s.ZT)(t,e),t.prototype._transformTo=function(e,t,i,n){var o=this.getBoundingRect(),r=this._invertLongitute;o=o.clone(),r&&(o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new de.Z(e,t,i,n));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,r&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,i=0;i<t.length;i++){var n=t[i];if("geoJSON"===n.type&&n.contain(e))return t[i]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,i){if(u.HD(e)&&(e=this.getGeoCoord(e)),e){var n=this.projection;return n&&(e=n.project(e)),e&&this.projectedToPoint(e,t,i)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,i,n){return e.prototype.dataToPoint.call(this,t,i,n)},t.prototype.convertToPixel=function(e,t,i){var n=Xt(t);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,t,i){var n=Xt(t);return n===this?n.pointToData(i):null},t}(Ht);function Xt(e){var t=e.geoModel,i=e.seriesModel;return t?t.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",ot.C6).models[0]||{}).coordinateSystem:null}u.jB(Ut,Ht);var Yt=Ut,Wt=i(76172);function Jt(e,t){var i=e.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(o[0])&&isFinite(o[1])){var r=this.projection;if(r){var a=n[0],s=n[1],l=o[0],u=o[1];n=[1/0,1/0],o=[-1/0,-1/0];var p=function(e,t,i,a){for(var s=i-e,l=a-t,u=0;u<=100;u++){var p=u/100,c=r.project([e+s*p,t+l*p]);fe.VV(n,n,c),fe.Fp(o,o,c)}};p(a,s,l,s),p(l,s,l,u),p(l,u,a,u),p(a,u,l,s)}this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}else 0}var c,h,g,d=this.getBoundingRect(),f=e.get("layoutCenter"),v=e.get("layoutSize"),m=t.getWidth(),y=t.getHeight(),_=d.width/d.height*this.aspectScale,S=!1;if(f&&v&&(c=[zt.GM(f[0],m),zt.GM(f[1],y)],h=zt.GM(v,Math.min(m,y)),isNaN(c[0])||isNaN(c[1])||isNaN(h)||(S=!0)),S)g={},_>1?(g.width=h,g.height=h/_):(g.height=h,g.width=h*_),g.y=c[1]-g.height/2,g.x=c[0]-g.width/2;else{var x=e.getBoxLayoutParams();x.aspect=_,g=Wt.ME(x,{width:m,height:y})}this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function jt(e,t){u.S6(t.get("geoCoord"),(function(t,i){e.addGeoCoord(i,t)}))}var Kt=function(){function e(){this.dimensions=Et}return e.prototype.create=function(e,t){var i=[];function n(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,o){var r=e.get("map"),a=new Yt(r+o,r,u.l7({nameMap:e.get("nameMap")},n(e)));a.zoomLimit=e.get("scaleLimit"),i.push(a),e.coordinateSystem=a,a.model=e,a.resize=Jt,a.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var n=e.get("geoIndex")||0;e.coordinateSystem=i[n]}}));var o={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}})),u.S6(o,(function(e,o){var r=u.UI(e,(function(e){return e.get("nameMap")})),a=new Yt(o,o,u.l7({nameMap:u.Jn(r)},n(e[0])));a.zoomLimit=u.Jv.apply(null,u.UI(e,(function(e){return e.get("scaleLimit")}))),i.push(a),a.resize=Jt,a.resize(e[0],t),u.S6(e,(function(e){e.coordinateSystem=a,jt(a,e)}))})),i},e.prototype.getFilledRegions=function(e,t,i,n){for(var o=(e||[]).slice(),r=u.kW(),a=0;a<o.length;a++)r.set(o[a].name,o[a]);var s=$e.load(t,i,n);return u.S6(s.regions,(function(e){var t=e.name;!r.get(t)&&o.push({name:t})})),o},e}(),qt=new Kt,$t=qt,Qt=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,s.ZT)(t,e),t.prototype.init=function(e,t,i){var n=$e.getGeoResource(e.map);if(n&&"geoJSON"===n.type){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,i),ot.Cc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=$t.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var i={};this._optionModelMap=u.u4(t.regions||[],(function(t,n){var o=n.name;return o&&(t.set(o,new Gt.Z(n,e,e.ecModel)),n.selected&&(i[o]=!0)),t}),u.kW()),t.selectedMap||(t.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Gt.Z(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var i=this.getRegionModel(e),n="normal"===t?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};return u.mf(n)?(o.status=t,n(o)):u.HD(n)?n.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,i=t.selectedMode;if(i){"multiple"!==i&&(t.selectedMap=null);var n=t.selectedMap||(t.selectedMap={});n[e]=!0}},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(At.Z),ei=Qt;function ti(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function ii(e,t,i,n){var o=e.getZoom(),r=e.getCenter(),a=t.zoom,s=e.projectedToPoint?e.projectedToPoint(r):e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(ti(e,s),n)),null!=a){if(i){var l=i.min||0,u=i.max||1/0;a=Math.max(Math.min(o*a,u),l)/o}e.scaleX*=a,e.scaleY*=a;var p=(t.originX-e.x)*(a-1),c=(t.originY-e.y)*(a-1);e.x-=p,e.y-=c,e.updateTransform(),e.setCenter(ti(e,s),n),e.setZoom(a*o)}return{center:e.getCenter(),zoom:e.getZoom()}}var ni=i(33166),oi=i(18310),ri=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.focusBlurEnabled=!0,i}return(0,s.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,i,n){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new _t(i));var o=this._mapDraw;o.draw(e,t,i,this,n),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,t,i)},t.prototype._handleRegionClick=function(e){var t;(0,oi.o)(e.target,(function(e){return null!=(t=(0,tt.A)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,i){var n=this;this._mapDraw.group.traverse((function(e){var t=(0,tt.A)(e).eventData;if(t)return n._model.isSelected(t.name)?i.enterSelect(e):i.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ni.Z),ai=ri;function si(e,t,i){$e.registerMap(e,t,i)}function li(e){function t(t,i){i.update="geo:updateSelectStatus",e.registerAction(i,(function(e,i){var n={},o=[];return i.eachComponent({mainType:"geo",query:e},(function(i){i[t](e.name);var r=i.coordinateSystem;(0,u.S6)(r.regions,(function(e){n[e.name]=i.isSelected(e.name)||!1}));var a=[];(0,u.S6)(n,(function(e,t){n[t]&&a.push(t)})),o.push({geoIndex:i.componentIndex,name:a})})),{selected:n,allSelected:o,name:e.name}}))}e.registerCoordinateSystem("geo",$t),e.registerComponentModel(ei),e.registerComponentView(ai),e.registerImpl("registerMap",si),e.registerImpl("getMap",(function(e){return $e.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,i){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var o=t.coordinateSystem;if("geo"===o.type){var r=ii(o,e,t.get("scaleLimit"),i);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===n&&(0,u.S6)(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))}function ui(e){(0,r.D)(li),e.registerChartView(Mt),e.registerSeriesModel(Rt),e.registerLayout(Lt),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,kt),(0,Ot.y)("map",e.registerAction)}var pi={get:function(e,t,i){var n=u.d9((ci[e]||{})[t]);return i&&u.kJ(n)?n[n.length-1]:n}},ci={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},hi=pi,gi=i(21092),di=u.S6,fi=u.Kn,vi=-1,mi=function(){function e(t){var i=t.mappingMethod,n=t.type,o=this.option=u.d9(t);this.type=n,this.mappingMethod=i,this._normalizeData=Ri[i];var r=e.visualHandlers[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._normalizedToVisual=r._normalizedToVisual[i],"piecewise"===i?(Si(o),yi(o)):"category"===i?o.categories?_i(o):Si(o,!0):(u.hu("linear"!==i||o.dataExtent),Si(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return u.ak(this._normalizeData,this)},e.listVisualTypes=function(){return u.XP(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,i){u.Kn(e)?u.S6(e,t,i):t.call(i,e)},e.mapVisual=function(t,i,n){var o,r=u.kJ(t)?[]:u.Kn(t)?{}:(o=!0,null);return e.eachVisual(t,(function(e,t){var a=i.call(n,e,t);o?r=a:r[t]=a})),r},e.retrieveVisuals=function(t){var i,n={};return t&&di(e.visualHandlers,(function(e,o){t.hasOwnProperty(o)&&(n[o]=t[o],i=!0)})),i?n:null},e.prepareVisualTypes=function(e){if(u.kJ(e))e=e.slice();else{if(!fi(e))return[];var t=[];di(e,(function(e,i){t.push(i)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,i){for(var n,o=1/0,r=0,a=t.length;r<a;r++){var s=t[r].value;if(null!=s){if(s===e||u.HD(s)&&s===e+"")return r;i&&h(s,r)}}for(r=0,a=t.length;r<a;r++){var l=t[r],p=l.interval,c=l.close;if(p){if(p[0]===-1/0){if(Vi(c[1],e,p[1]))return r}else if(p[1]===1/0){if(Vi(c[0],p[0],e))return r}else if(Vi(c[0],p[0],e)&&Vi(c[1],e,p[1]))return r;i&&h(p[0],r),i&&h(p[1],r)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function h(t,i){var r=Math.abs(t-e);r<o&&(o=r,n=i)}},e.visualHandlers={color:{applyVisual:wi("color"),getColorMapper:function(){var e=this.option;return u.ak("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),bi.call(this,e)}:function(t,i,n){var o=!!n;return!i&&(t=this._normalizeData(t)),n=gi.Uu(t,e.parsedVisual,n),o?n:gi.Pz(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return gi.Pz(gi.Uu(e,this.option.parsedVisual),"rgba")},category:bi,piecewise:function(e,t){var i=Ii.call(this,t);return null==i&&(i=gi.Pz(gi.Uu(e,this.option.parsedVisual),"rgba")),i},fixed:Ti}},colorHue:xi((function(e,t){return gi.ox(e,t)})),colorSaturation:xi((function(e,t){return gi.ox(e,null,t)})),colorLightness:xi((function(e,t){return gi.ox(e,null,null,t)})),colorAlpha:xi((function(e,t){return gi.m8(e,t)})),decal:{applyVisual:wi("decal"),_normalizedToVisual:{linear:null,category:bi,piecewise:null,fixed:null}},opacity:{applyVisual:wi("opacity"),_normalizedToVisual:Ci([0,1])},liftZ:{applyVisual:wi("liftZ"),_normalizedToVisual:{linear:Ti,category:Ti,piecewise:Ti,fixed:Ti}},symbol:{applyVisual:function(e,t,i){var n=this.mapValueToVisual(e);i("symbol",n)},_normalizedToVisual:{linear:Mi,category:bi,piecewise:function(e,t){var i=Ii.call(this,t);return null==i&&(i=Mi.call(this,e)),i},fixed:Ti}},symbolSize:{applyVisual:wi("symbolSize"),_normalizedToVisual:Ci([0,1])}},e}();function yi(e){var t=e.pieceList;e.hasSpecialVisual=!1,u.S6(t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function _i(e){var t=e.categories,i=e.categoryMap={},n=e.visual;if(di(t,(function(e,t){i[e]=t})),!u.kJ(n)){var o=[];u.Kn(n)?di(n,(function(e,t){var n=i[t];o[null!=n?n:vi]=e})):o[vi]=n,n=Di(e,o)}for(var r=t.length-1;r>=0;r--)null==n[r]&&(delete i[t[r]],t.pop())}function Si(e,t){var i=e.visual,n=[];u.Kn(i)?di(i,(function(e){n.push(e)})):null!=i&&n.push(i);var o={color:1,symbol:1};t||1!==n.length||o.hasOwnProperty(e.type)||(n[1]=n[0]),Di(e,n)}function xi(e){return{applyVisual:function(t,i,n){var o=this.mapValueToVisual(t);n("color",e(i("color"),o))},_normalizedToVisual:Ci([0,1])}}function Mi(e){var t=this.option.visual;return t[Math.round((0,zt.NU)(e,[0,1],[0,t.length-1],!0))]||{}}function wi(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function bi(e){var t=this.option.visual;return t[this.option.loop&&e!==vi?e%t.length:e]}function Ti(){return this.option.visual[0]}function Ci(e){return{linear:function(t){return(0,zt.NU)(t,e,this.option.visual,!0)},category:bi,piecewise:function(t,i){var n=Ii.call(this,i);return null==n&&(n=(0,zt.NU)(t,e,this.option.visual,!0)),n},fixed:Ti}}function Ii(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=mi.findPieceIndex(e,i),o=i[n];if(o&&o.visual)return o.visual[this.type]}}function Di(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=u.UI(t,(function(e){var t=gi.Qc(e);return t||[0,0,0,1]}))),t}var Ri={linear:function(e){return(0,zt.NU)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=mi.findPieceIndex(e,t,!0);if(null!=i)return(0,zt.NU)(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?vi:t},fixed:u.ZT};function Vi(e,t,i){return e?t<=i:t<i}var ki=mi,Li=i(26211),Oi=u.S6;function Ai(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Gi(e,t,i){var n={};return Oi(t,(function(t){var r=n[t]=o();Oi(e[t],(function(e,n){if(ki.isValidType(n)){var o={type:n,visual:e};i&&i(o,t),r[n]=new ki(o),"opacity"===n&&(o=u.d9(o),o.type="colorAlpha",r.__hidden.__alphaForOpacity=new ki(o))}}))})),n;function o(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function Pi(e,t,i){var n;u.S6(i,(function(e){t.hasOwnProperty(e)&&Ai(t[e])&&(n=!0)})),n&&u.S6(i,(function(i){t.hasOwnProperty(i)&&Ai(t[i])?e[i]=u.d9(t[i]):delete e[i]}))}function zi(e,t,i,n){var o={};return u.S6(e,(function(e){var i=ki.prepareVisualTypes(t[e]);o[e]=i})),{progress:function(e,r){var a,s;function l(e){return(0,Li.Or)(r,s,e)}function u(e,t){(0,Li.LZ)(r,s,e,t)}null!=n&&(a=r.getDimensionIndex(n));var p=r.getStore();while(null!=(s=e.next())){var c=r.getRawDataItem(s);if(!c||!1!==c.visualMap)for(var h=null!=n?p.get(a,s):s,g=i(h),d=t[g],f=o[g],v=0,m=f.length;v<m;v++){var y=f[v];d[y]&&d[y].applyVisual(h,l,u)}}}}}var Fi=ki.mapVisual,Zi=ki.eachVisual,Ni=u.kJ,Hi=u.S6,Bi=zt.dt,Ei=zt.NU,Ui=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return(0,s.ZT)(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,t){var i=this.option;!t&&Pi(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=u.ak(e,this),this.controllerVisuals=Gi(this.option.controller,t,e),this.targetVisuals=Gi(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=ot.kF(e),t},t.prototype.eachTargetSeries=function(e,t){u.S6(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(t,n)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,i){var n,o=this.option,r=o.precision,a=this.dataBound,s=o.formatter;i=i||["<",">"],u.kJ(e)&&(e=e.slice(),n=!0);var l=t?e:n?[p(e[0]),p(e[1])]:p(e);return u.HD(s)?s.replace("{value}",n?l[0]:l).replace("{value2}",n?l[1]:l):u.mf(s)?n?s(e[0],e[1]):s(e):n?e[0]===a[0]?i[0]+" "+l[1]:e[1]===a[1]?i[1]+" "+l[0]:l[0]+" - "+l[1]:l;function p(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(r,20))}},t.prototype.resetExtent=function(){var e=this.option,t=Bi([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var o=i[n],r=e.getDimensionInfo(o);if(!r.isCalculationCoord)return r.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),o=t.controller||(t.controller={});u.TS(n,i),u.TS(o,i);var r=this.isCategory();function a(i){Ni(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")}}function s(e,t,i){var n=e[t],o=e[i];n&&!o&&(o=e[i]={},Hi(n,(function(e,t){if(ki.isValidType(t)){var i=hi.get(t,"inactive",r);null!=i&&(o[t]=i,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function l(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),o=this.getItemSymbol(),a=o||"roundRect";Hi(this.stateList,(function(o){var s=this.itemSize,l=e[o];l||(l=e[o]={color:r?n:[n]}),null==l.symbol&&(l.symbol=t&&u.d9(t)||(r?a:[a])),null==l.symbolSize&&(l.symbolSize=i&&u.d9(i)||(r?s[0]:[s[0],s[0]])),l.symbol=Fi(l.symbol,(function(e){return"none"===e?a:e}));var p=l.symbolSize;if(null!=p){var c=-1/0;Zi(p,(function(e){e>c&&(c=e)})),l.symbolSize=Fi(p,(function(e){return Ei(e,[0,c],[0,s[0]],!0)}))}}),this)}a.call(this,n),a.call(this,o),s.call(this,n,"inRange","outOfRange"),l.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(At.Z),Xi=Ui,Yi=[20,140],Wi=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,s.ZT)(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=Yi[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Yi[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):u.kJ(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),u.S6(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=zt.dt((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},t.prototype.getVisualMeta=function(e){var t=Ji(this,"outOfRange",this.getExtent()),i=Ji(this,"inRange",this.option.range.slice()),n=[];function o(t,i){n.push({value:t,color:e(t,i)})}for(var r=0,a=0,s=i.length,l=t.length;a<l&&(!i.length||t[a]<=i[0]);a++)t[a]<i[r]&&o(t[a],"outOfRange");for(var u=1;r<s;r++,u=0)u&&n.length&&o(i[r],"outOfRange"),o(i[r],"inRange");for(u=1;a<l;a++)(!i.length||i[i.length-1]<t[a])&&(u&&(n.length&&o(n[n.length-1].value,"outOfRange"),u=0),o(t[a],"outOfRange"));var p=n.length;return{stops:n,outerColors:[p?n[0].color:"transparent",p?n[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=(0,Qe.ZL)(Xi.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Xi);function Ji(e,t,i){if(i[0]===i[1])return i.slice();for(var n=200,o=(i[1]-i[0])/n,r=i[0],a=[],s=0;s<=n&&r<i[1];s++)a.push(r),r+=o;return a.push(i[1]),a}var ji=Wi,Ki=i(78988),qi=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return(0,s.ZT)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,i,n):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,i=Ki.MY(t.get("padding")||0),n=e.getBoundingRect();e.add(new A.Z({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,i){i=i||{};var n=i.forceState,o=this.visualMapModel,r={};if("color"===t){var a=o.get("contentColor");r.color=a}function s(e){return r[e]}function l(e,t){r[e]=t}var p=o.controllerVisuals[n||o.getValueState(e)],c=ki.prepareVisualTypes(p);return u.S6(c,(function(n){var o=p[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=p.__alphaForOpacity),ki.dependsOn(n,t)&&o&&o.applyVisual(e,s,l)})),r[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,i=this.api;Wt.p$(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,t,i,n){},t.type="visualMap",t}(ni.Z),$i=qi,Qi=i(96498);function en(e,t,i,n,o,r){e=e||0;var a=i[1]-i[0];if(null!=o&&(o=nn(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===n){var s=Math.abs(t[1]-t[0]);s=nn(s,[0,a]),o=r=nn(s,[o,r]),n=0}t[0]=nn(t[0],i),t[1]=nn(t[1],i);var l=tn(t,n);t[n]+=e;var u,p=o||0,c=i.slice();return l.sign<0?c[0]+=p:c[1]-=p,t[n]=nn(t[n],c),u=tn(t,n),null!=o&&(u.sign!==l.sign||u.span<o)&&(t[1-n]=t[n]+l.sign*o),u=tn(t,n),null!=r&&u.span>r&&(t[1-n]=t[n]+u.sign*r),t}function tn(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function nn(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var on=[["left","right","width"],["top","bottom","height"]];function rn(e,t,i){var n=e.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var r={width:t.getWidth(),height:t.getHeight()},a="horizontal"===n.orient?1:0,s=on[a],l=[0,null,10],u={},p=0;p<3;p++)u[on[1-a][p]]=l[p],u[s[p]]=2===p?i[0]:n[s[p]];var c=[["x","width",3],["y","height",0]][a],h=(0,Wt.ME)(u,r,n.padding);return s[(h.margin[c[2]]||0)+h[c[0]]+.5*h[c[1]]<.5*r[c[1]]?0:1]}function an(e,t){return u.S6(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var sn=i(80423),ln=zt.NU,un=u.S6,pn=Math.min,cn=Math.max,hn=12,gn=6,dn=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,s.ZT)(t,e),t.prototype.doRender=function(e,t,i,n){this._api=i,n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),a=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===i?-r:a[1]+r],s),u=this._applyTransform(0===i?"bottom":"top",s),p=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new Qi.ZP({style:(0,et.Lr)(c,{x:l[0],y:l[1],verticalAlign:"horizontal"===p?"middle":u,align:"horizontal"===p?u:"center",text:n})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,o=this._orient,r=this._useHandle,a=rn(t,this.api,n),s=i.mainGroup=this._createBarGroup(a),l=new C.Z;s.add(l),l.add(i.outOfRange=fn()),l.add(i.inRange=fn(null,r?yn(this._orient):null,u.ak(this._dragHandle,this,"all",!1),u.ak(this._dragHandle,this,"all",!0))),l.setClipPath(new A.Z({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var p=t.textStyleModel.getTextRect("国"),c=cn(p.width,p.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(t,s,0,n,c,o),this._createHandle(t,s,1,n,c,o)),this._createIndicator(t,s,n,c,o),e.add(s)},t.prototype._createHandle=function(e,t,i,n,o,r){var a=u.ak(this._dragHandle,this,i,!1),s=u.ak(this._dragHandle,this,i,!0),l=(0,sn.GM)(e.get("handleSize"),n[0]),p=(0,It.th)(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),h=yn(this._orient);p.attr({cursor:h,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){c.sT(e.event)}}),p.x=n[0]/2,p.useStyle(e.getModel("handleStyle").getItemStyle()),p.setStyle({strokeNoScale:!0,strokeFirst:!0}),p.style.lineWidth*=2,p.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,L.Nj)(p,!0),t.add(p);var g=this.visualMapModel.textStyleModel,d=new Qi.ZP({cursor:h,draggable:!0,drift:a,onmousemove:function(e){c.sT(e.event)},ondragend:s,style:(0,et.Lr)(g,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[l,0],v=this._shapes;v.handleThumbs[i]=p,v.handleLabelPoints[i]=f,v.handleLabels[i]=d},t.prototype._createIndicator=function(e,t,i,n,o){var r=(0,sn.GM)(e.get("indicatorSize"),i[0]),a=(0,It.th)(e.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(a instanceof O.ZP){var l=a.style;a.useStyle(u.l7({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);t.add(a);var p=this.visualMapModel.textStyleModel,c=new Qi.ZP({silent:!0,invisible:!0,style:(0,et.Lr)(p,{x:0,y:0,text:""})});this.group.add(c);var h=[("horizontal"===o?n/2:gn)+i[0]/2,0],g=this._shapes;g.indicator=a,g.indicatorLabel=c,g.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():mn(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[ln(t[0],i,n,!0),ln(t[1],i,n,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];en(t,n,o,e,0);var r=i.getExtent();this._dataInterval=[ln(n[0],o,r,!0),ln(n[1],o,r,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,o=[0,t.itemSize[1]],r=e?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),n.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,a)},t.prototype._createBarVisual=function(e,t,i,n){var o={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,o),a=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],s=this._createBarPoints(i,a);return{barColor:new Z.Z(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var i=100,n=[],o=(e[1]-e[0])/i;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<i;r++){var a=e[0]+o*r;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:r/i})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new C.Z("horizontal"!==t||i?"horizontal"===t&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,r=i.handleLabels,a=n.itemSize,s=n.getExtent();un([0,1],(function(l){var u=o[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var p=ln(e[l],[0,a[1]],s,!0),c=this.getControllerVisual(p,"symbolSize");u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2;var h=k.applyTransform(i.handleLabelPoints[l],k.getTransform(u,this.group));r[l].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,i,n){var o=this.visualMapModel,r=o.getExtent(),a=o.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var p={convertOpacityToAlpha:!0},c=this.getControllerVisual(e,"color",p),h=this.getControllerVisual(e,"symbolSize"),g=ln(e,r,s,!0),d=a[0]-h/2,f={x:u.x,y:u.y};u.y=g,u.x=d;var v=k.applyTransform(l.indicatorLabelPoint,k.getTransform(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var y=this._applyTransform("left",l.mainGroup),_=this._orient,S="horizontal"===_;m.setStyle({text:(i||"")+o.formatValueText(t),verticalAlign:S?y:"middle",align:S?"center":y});var x={x:d,y:g,style:{fill:c}},M={style:{x:v[0],y:v[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(x,w),m.animateTo(M,w)}else u.attr(x),m.attr(M);this._firstShowIndicator=!1;var b=this._shapes.handleLabels;if(b)for(var T=0;T<b.length;T++)this._api.enterBlur(b[T])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=pn(cn(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],r=i.getExtent();e=pn(cn(o[0],e),o[1]);var a=vn(i,r,o),s=[e-a,e+a],l=ln(e,o,r,!0),u=[ln(s[0],o,r,!0),ln(s[1],o,r,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var p=this._hoverLinkDataIndices,c=[];(t||mn(i))&&(c=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var h=ot.XI(p,c);this._dispatchHighDown("downplay",an(h[0],i)),this._dispatchHighDown("highlight",an(h[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=(0,tt.A)(t).dataIndex){var n=(0,tt.A)(t),o=this.ecModel.getSeriesByIndex(n.seriesIndex);if(i.isTargetSeries(o)){var r=o.getData(n.dataType),a=r.getStore().get(i.getDataDimensionIndex(r),n.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var i=0;i<t.length;i++)this._api.leaveBlur(t[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",an(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,i,n){var o=k.getTransform(t,n?null:this.group);return u.kJ(e)?k.applyTransform(e,o,i):k.transformDirection(e,o,i)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}($i);function fn(e,t,i,n){return new D.Z({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){c.sT(e.event)},ondragend:n})}function vn(e,t,i){var n=hn/2,o=e.get("hoverLinkDataSize");return o&&(n=ln(o,t,i,!0)/2),n}function mn(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function yn(e){return"vertical"===e?"ns-resize":"ew-resize"}var _n=dn,Sn={type:"selectDataRange",event:"dataRangeSelected",update:"update"},xn=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},Mn=[{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(zi(t.stateList,t.targetVisuals,u.ak(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),i}},{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(u.ak(wn,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimensionIndex(i);r>=0&&(o.dimension=r,n.push(o))}})),e.getData().setVisual("visualMeta",n)}}];function wn(e,t,i,n){for(var o=t.targetVisuals[n],r=ki.prepareVisualTypes(o),a={color:(0,Li.UL)(e.getData(),"color")},s=0,l=r.length;s<l;s++){var u=r[s],p=o["opacity"===u?"__alphaForOpacity":u];p&&p.applyVisual(i,c,h)}return a.color;function c(e){return a[e]}function h(e,t){a[e]=t}}var bn=u.S6;function Tn(e){var t=e&&e.visualMap;u.kJ(t)||(t=t?[t]:[]),bn(t,(function(e){if(e){Cn(e,"splitList")&&!Cn(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&u.kJ(t)&&bn(t,(function(e){u.Kn(e)&&(Cn(e,"start")&&!Cn(e,"min")&&(e.min=e.start),Cn(e,"end")&&!Cn(e,"max")&&(e.max=e.end))}))}}))}function Cn(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var In=!1;function Dn(e){In||(In=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(Sn,xn),(0,u.S6)(Mn,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(Tn))}function Rn(e){e.registerComponentModel(ji),e.registerComponentView(_n),Dn(e)}var Vn=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._pieceList=[],i}return(0,s.ZT)(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],kn[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=u.d9(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=u.UI(this._pieceList,(function(e){return e=u.d9(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,i={},n=ki.listVisualTypes(),o=this.isCategory();function r(e,t,i){return e&&e[t]&&e[t].hasOwnProperty(i)}u.S6(t.pieces,(function(e){u.S6(n,(function(t){e.hasOwnProperty(t)&&(i[t]=1)}))})),u.S6(i,(function(e,i){var n=!1;u.S6(this.stateList,(function(e){n=n||r(t,e,i)||r(t.target,e,i)}),this),!n&&u.S6(this.stateList,(function(e){(t[e]||(t[e]={}))[i]=hi.get(i,"inRange"===e?"active":"inactive",o)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var i=this.option,n=this._pieceList,o=(t?i:e).selected||{};if(i.selected=o,u.S6(n,(function(e,t){var i=this.getSelectedMapKey(e);o.hasOwnProperty(i)||(o[i]=!0)}),this),"single"===i.selectedMode){var r=!1;u.S6(n,(function(e,t){var i=this.getSelectedMapKey(e);o[i]&&(r?o[i]=!1:r=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=u.d9(e)},t.prototype.getValueState=function(e){var t=ki.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],i=this._pieceList;return this.eachTargetSeries((function(n){var o=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(t,n){var r=ki.findPieceIndex(t,i);r===e&&o.push(n)}),this),t.push({seriesId:n.id,dataIndex:o})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],i=["",""],n=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),r=o[o.length-1].interval[1],r!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return u.S6(o,(function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])}),this),{stops:t,outerColors:i}}function s(o,r){var a=n.getRepresentValue({interval:o});r||(r=n.getValueState(a));var s=e(a,r);o[0]===-1/0?i[0]=s:o[1]===1/0?i[1]=s:t.push({value:o[0],color:s},{value:o[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=(0,Qe.ZL)(Xi.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Xi),kn={splitNumber:function(e){var t=this.option,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;var r=(n[1]-n[0])/o;while(+r.toFixed(i)!==r&&i<5)i++;t.precision=i,r=+r.toFixed(i),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var a=0,s=n[0];a<o;s+=r,a++){var l=a===o-1?n[1]:s+r;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),(0,zt.nR)(e),u.S6(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;u.S6(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),Ln(t,e)},pieces:function(e){var t=this.option;u.S6(t.pieces,(function(t,i){u.Kn(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var r=n.interval=[],a=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],p=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],g=0;g<3&&null==r[c];g++)r[c]=t[h[g]],a[c]=s[g],p[c]=2===g;null==r[c]&&(r[c]=l[c])}p[0]&&r[1]===1/0&&(a[0]=0),p[1]&&r[0]===-1/0&&(a[1]=0),r[0]===r[1]&&a[0]&&a[1]&&(n.value=r[0])}n.visual=ki.retrieveVisuals(t),e.push(n)}),this),Ln(t,e),(0,zt.nR)(e),u.S6(e,(function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function Ln(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var On=Vn,An=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,s.ZT)(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),n=t.textStyleModel,o=n.getFont(),r=n.getTextColor(),a=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),p=l.endsText,c=u.Jv(t.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],s,c,a),u.S6(l.viewPieceList,(function(n){var l=n.piece,p=new C.Z;p.onclick=u.ak(this._onItemClick,this,l),this._enableHoverLink(p,n.indexInModelPieceList);var h=t.getRepresentValue(l);if(this._createItemSymbol(p,h,[0,0,s[0],s[1]]),c){var g=this.visualMapModel.getValueState(h);p.add(new Qi.ZP({style:{x:"right"===a?-i:s[0]+i,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:o,fill:r,opacity:"outOfRange"===g?.5:1}}))}e.add(p)}),this),p&&this._renderEndsText(e,p[1],s,c,a),Wt.BZ(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var i=this;e.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(e){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:e,batch:an(n.findTargetDataIndices(t),n)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return rn(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,t,i,n,o){if(t){var r=new C.Z,a=this.visualMapModel.textStyleModel;r.add(new Qi.ZP({style:(0,et.Lr)(a,{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?o:"center",text:t})})),e.add(r)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=u.UI(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),n=e.get("orient"),o=e.get("inverse");return("horizontal"===n?o:!o)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},t.prototype._createItemSymbol=function(e,t,i){e.add((0,It.th)(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,i=t.option,n=i.selectedMode;if(n){var o=u.d9(i.selected),r=t.getSelectedMapKey(e);"single"===n||!0===n?(o[r]=!0,u.S6(o,(function(e,t){o[t]=t===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}($i),Gn=An;function Pn(e){e.registerComponentModel(On),e.registerComponentView(Gn),Dn(e)}function zn(e){(0,r.D)(Rn),(0,r.D)(Pn)}var Fn=i(82739),Zn=i(59634),Nn=i(12544);(0,r.D)([a.N,ui,zn,li,Fn.N]);var Hn={components:{VChart:Zn.ZP},mixins:[(0,Nn.i)(["userCountMapChart"])],data(){return{userCountMapOption:{},userCountDataRank:[]}},computed:{styleResponsive(){return this.$store.state.theme.styleResponsive}},created(){this.registerChinaMap()},methods:{registerChinaMap(){},getUserCountData(){}}},Bn=Hn,En=i(1001),Un=(0,En.Z)(Bn,n,o,!1,null,"ccaf7972",null),Xn=Un.exports},30090:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(55623),o=i(4421),r=i(33051);function a(e,t,i){t=(0,r.kJ)(t)&&{coordDimensions:t}||(0,r.l7)({encodeDefine:e.getEncode()},t);var a=e.getSource(),s=(0,n.Z)(a,t).dimensions,l=new o.Z(s,e);return l.initData(a,i),l}}}]);